"use strict";(self.webpackChunkyoutube_client=self.webpackChunkyoutube_client||[]).push([[956],{5956:(G,s,d)=>{d.r(s),d.d(s,{AdminModule:()=>R});var m=d(6814),o=d(6223),c=d(4087),Z=d(989);const p={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let g;const A=new Uint8Array(16);function I(){if(!g&&(g=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!g))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return g(A)}const a=[];for(let n=0;n<256;++n)a.push((n+256).toString(16).slice(1));const U=function y(n,r,i){if(p.randomUUID&&!r&&!n)return p.randomUUID();const l=(n=n||{}).random||(n.rng||I)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,r){i=i||0;for(let e=0;e<16;++e)r[i+e]=l[e];return r}return function _(n,r=0){return a[n[r+0]]+a[n[r+1]]+a[n[r+2]]+a[n[r+3]]+"-"+a[n[r+4]]+a[n[r+5]]+"-"+a[n[r+6]]+a[n[r+7]]+"-"+a[n[r+8]]+a[n[r+9]]+"-"+a[n[r+10]]+a[n[r+11]]+a[n[r+12]]+a[n[r+13]]+a[n[r+14]]+a[n[r+15]]}(l)};var t=d(5879),D=d(4221),f=d(5470),C=d(5396);function k(n,r){1&n&&(t.TgZ(0,"div",26),t._uU(1," Please enter a title "),t.qZA())}function N(n,r){1&n&&(t.TgZ(0,"div",26),t._uU(1," The title is too short "),t.qZA())}function b(n,r){1&n&&(t.TgZ(0,"div",26),t._uU(1," The title is too long "),t.qZA())}function q(n,r){if(1&n&&(t.ynx(0),t.YNc(1,k,2,0,"div",11),t.YNc(2,N,2,0,"div",11),t.YNc(3,b,2,0,"div",11),t.BQk()),2&n){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",null==i.getTitle||null==i.getTitle.errors?null:i.getTitle.errors.required),t.xp6(1),t.Q6J("ngIf",null==i.getTitle||null==i.getTitle.errors?null:i.getTitle.errors.minlength),t.xp6(1),t.Q6J("ngIf",null==i.getTitle||null==i.getTitle.errors?null:i.getTitle.errors.maxlength)}}function w(n,r){1&n&&(t.TgZ(0,"div",26),t._uU(1," The description is too long "),t.qZA())}function J(n,r){1&n&&(t.TgZ(0,"div",26),t._uU(1," Please enter a link to the image "),t.qZA())}function F(n,r){1&n&&(t.TgZ(0,"div",26),t._uU(1," Please enter a link to the video "),t.qZA())}function Q(n,r){1&n&&(t.TgZ(0,"div",26),t._uU(1," Please enter a creation date "),t.qZA())}function x(n,r){if(1&n&&(t.TgZ(0,"div",26),t._uU(1),t.qZA()),2&n){const i=t.oxw(2);t.xp6(1),t.hij(" ",null==i.getDate||null==i.getDate.errors?null:i.getDate.errors.errorStr.message," ")}}function L(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Q,2,0,"div",11),t.YNc(2,x,2,1,"div",11),t.BQk()),2&n){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",null==i.getDate||null==i.getDate.errors?null:i.getDate.errors.required),t.xp6(1),t.Q6J("ngIf",null==i.getDate||null==i.getDate.errors?null:i.getDate.errors.errorStr)}}function Y(n,r){1&n&&(t.TgZ(0,"div",26),t._uU(1," Please enter a tag "),t.qZA())}function V(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",27),t._UZ(2,"input",28),t.YNc(3,Y,2,0,"div",11),t.qZA(),t.BQk()),2&n){const i=r.index,l=t.oxw();t.xp6(1),t.Q6J("formGroupName",i),t.xp6(2),t.Q6J("ngIf",(l.tags.controls[i].dirty||l.tags.controls[i].touched)&&l.tags.controls[i].invalid)}}const S=[{path:"",component:(()=>{class n{constructor(i,l){this.builder=i,this.store=l,this.adminForm=new o.cw({title:new o.NI(""),description:new o.NI(""),img:new o.NI(""),link:new o.NI(""),date:new o.NI(""),tags:new o.Oe([new o.NI])}),this.createAdminForm()}createAdminForm(){this.adminForm=this.builder.group({title:["",[o.kI.required,o.kI.minLength(3),o.kI.maxLength(20)]],description:["",[o.kI.maxLength(255)]],img:["",[o.kI.required]],link:["",[o.kI.required]],date:["",[o.kI.required,this.dateValidator]],tags:this.builder.array([])}),this.addTag()}get getTitle(){return this.adminForm.get("title")}get getDescription(){return this.adminForm.get("description")}get getImg(){return this.adminForm.get("img")}get getLink(){return this.adminForm.get("link")}get getDate(){return this.adminForm.get("date")}get tags(){return this.adminForm.controls.tags}dateValidator(i){const l=new Date;return new Date(i.value)>l?{errorStr:{message:"The date is invalid"}}:null}addTag(){const i=this.builder.group({tag:["",o.kI.required]});this.tags.length<5&&this.tags.push(i)}resetTags(){for(;0!==this.tags.length;)this.tags.removeAt(0);this.addTag()}createCard(){const i={},{title:l,description:e,img:u,link:j,date:h,tags:v}=this.adminForm.getRawValue(),T=U();l&&e&&u&&j&&h&&v&&(i[T]={id:T,snippet:{publishedAt:h,title:l,description:e,thumbnails:{default:{url:u},medium:{url:u}},tags:v},isCustom:!0},this.store.dispatch((0,Z.L)({payload:i})))}static#t=this.\u0275fac=function(l){return new(l||n)(t.Y36(o.qu),t.Y36(D.yh))};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin"]],decls:52,vars:8,consts:[[1,"container"],[1,"form","admin"],[1,"form__title"],[1,"form__group",3,"formGroup"],[1,"form__field-wrapper"],["for","title",1,"form__label"],[1,"form__field"],["id","title","type","text","appValidationIndicator","","formControlName","title",1,"form__input"],[4,"ngIf"],["for","description",1,"form__label"],["id","description","type","text","appValidationIndicator","","formControlName","description",1,"form__input"],["class","form__error",4,"ngIf"],["for","img",1,"form__label"],["id","img","type","text","appValidationIndicator","","formControlName","img",1,"form__input"],["for","link",1,"form__label"],["id","link","type","text","appValidationIndicator","","formControlName","link",1,"form__input"],["for","date",1,"form__label"],["id","date","type","date","appValidationIndicator","","formControlName","date",1,"form__input"],[1,"form__tags-header-wrapper"],[1,"form__label"],[1,"form__btns-wrapper"],[1,"form__extra-btn",3,"click"],["formArrayName","tags"],[4,"ngFor","ngForOf"],[1,"form__extra-wrapper"],[1,"form__btn",3,"disabled","click"],[1,"form__error"],[1,"form__sub-form",3,"formGroupName"],["id","tag","type","text","appValidationIndicator","","formControlName","tag",1,"form__input","form__input--sub"]],template:function(l,e){1&l&&(t.TgZ(0,"div",0)(1,"section",1)(2,"h1",2),t._uU(3,"Create new card"),t.qZA(),t.TgZ(4,"form",3)(5,"div",4)(6,"label",5),t._uU(7,"Title"),t.qZA(),t.TgZ(8,"div",6),t._UZ(9,"input",7),t.YNc(10,q,4,3,"ng-container",8),t.qZA()(),t.TgZ(11,"div",4)(12,"label",9),t._uU(13,"Description"),t.qZA(),t.TgZ(14,"div",6),t._UZ(15,"input",10),t.YNc(16,w,2,0,"div",11),t.qZA()(),t.TgZ(17,"div",4)(18,"label",12),t._uU(19,"Img"),t.qZA(),t.TgZ(20,"div",6),t._UZ(21,"input",13),t.YNc(22,J,2,0,"div",11),t.qZA()(),t.TgZ(23,"div",4)(24,"label",14),t._uU(25,"Link video"),t.qZA(),t.TgZ(26,"div",6),t._UZ(27,"input",15),t.YNc(28,F,2,0,"div",11),t.qZA()(),t.TgZ(29,"div",4)(30,"label",16),t._uU(31,"Date"),t.qZA(),t.TgZ(32,"div",6),t._UZ(33,"input",17),t.YNc(34,L,3,2,"ng-container",8),t.qZA()(),t.TgZ(35,"div",18)(36,"span",19),t._uU(37,"Tags"),t.qZA(),t.TgZ(38,"div",20)(39,"button",21),t.NdJ("click",function(){return e.addTag()}),t.TgZ(40,"mat-icon"),t._uU(41,"add"),t.qZA(),t._uU(42," Add tag "),t.qZA(),t.TgZ(43,"button",21),t.NdJ("click",function(){return e.resetTags()}),t.TgZ(44,"mat-icon"),t._uU(45,"delete_outline"),t.qZA(),t._uU(46," Reset tags "),t.qZA()()(),t.ynx(47,22),t.YNc(48,V,4,2,"ng-container",23),t.BQk(),t.TgZ(49,"div",24)(50,"button",25),t.NdJ("click",function(){return e.createCard()}),t._uU(51,"Create card"),t.qZA()()()()()),2&l&&(t.xp6(4),t.Q6J("formGroup",e.adminForm),t.xp6(6),t.Q6J("ngIf",((null==e.getTitle?null:e.getTitle.dirty)||(null==e.getTitle?null:e.getTitle.touched))&&(null==e.getTitle?null:e.getTitle.invalid)),t.xp6(6),t.Q6J("ngIf",((null==e.getDescription?null:e.getDescription.dirty)||(null==e.getDescription?null:e.getDescription.touched))&&(null==e.getDescription?null:e.getDescription.invalid)&&(null==e.getDescription||null==e.getDescription.errors?null:e.getDescription.errors.maxlength)),t.xp6(6),t.Q6J("ngIf",((null==e.getImg?null:e.getImg.dirty)||(null==e.getImg?null:e.getImg.touched))&&(null==e.getImg?null:e.getImg.invalid)&&(null==e.getImg||null==e.getImg.errors?null:e.getImg.errors.required)),t.xp6(6),t.Q6J("ngIf",((null==e.getLink?null:e.getLink.dirty)||(null==e.getLink?null:e.getLink.touched))&&(null==e.getLink?null:e.getLink.invalid)&&(null==e.getLink||null==e.getLink.errors?null:e.getLink.errors.required)),t.xp6(6),t.Q6J("ngIf",((null==e.getDate?null:e.getDate.dirty)||(null==e.getDate?null:e.getDate.touched))&&(null==e.getDate?null:e.getDate.invalid)),t.xp6(14),t.Q6J("ngForOf",e.tags.controls),t.xp6(2),t.Q6J("disabled",!e.adminForm.valid))},dependencies:[m.sg,m.O5,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,o.x0,o.CE,f.Hw,C.d],styles:[".admin[_ngcontent-%COMP%]{max-width:433px;margin:45px auto 0}"]})}return n})()}];let B=(()=>{class n{static#t=this.\u0275fac=function(l){return new(l||n)};static#n=this.\u0275mod=t.oAB({type:n});static#e=this.\u0275inj=t.cJS({imports:[c.Bz.forChild(S),c.Bz]})}return n})();var P=d(6208);let R=(()=>{class n{static#t=this.\u0275fac=function(l){return new(l||n)};static#n=this.\u0275mod=t.oAB({type:n});static#e=this.\u0275inj=t.cJS({imports:[m.ez,o.UX,B,f.Ps,P.m]})}return n})()}}]);